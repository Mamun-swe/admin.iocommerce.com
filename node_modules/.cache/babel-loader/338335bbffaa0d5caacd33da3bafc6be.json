{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/iocommerce/admin/src/pages/admin/Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Form } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { ChevronLeft } from 'react-feather';\nimport { GrayButton, PrimaryButton } from '../../components/button/Index';\nimport { Layout, Main } from '../../components/layout/Index';\nimport { SingleSelect } from '../../components/select/Index';\nimport { Loader } from '../../components/loader/Index';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [loading, setLoading] = useState(true);\n  const [isUpdate, setUpdate] = useState(false);\n  const [data, setData] = useState({});\n  const [role, setRole] = useState({\n    options: [],\n    value: null,\n    error: null\n  });\n  const [status, setStatus] = useState(null);\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  });\n  const fetchData = useCallback(async () => {\n    let paths = [];\n    const roles = await Requests.Acl.Role(header);\n    const response = await Requests.Admin.Show(id, header);\n\n    if (roles.data && roles.data.length) {\n      for (let i = 0; i < roles.data.length; i++) {\n        const element = roles.data[i];\n        paths.push({\n          label: element.role,\n          value: element._id\n        });\n      }\n    }\n\n    setData(response.data);\n    setStatus(response.data.accountStatus);\n    setRole(exRoles => ({ ...exRoles,\n      options: paths,\n      value: response.data.role._id\n    }));\n    setLoading(false);\n  }, [id, header]);\n  useEffect(() => {\n    fetchData();\n  }, [id, header, fetchData]); // Handle checkbox\n\n  const handleCheckBox = event => setStatus(event.target.value); // Submit Form\n\n\n  const onSubmit = async data => {\n    if (!role.value) return setRole({ ...role,\n      error: \"Role is required.\"\n    });\n    setUpdate(true);\n    const formData = { ...data,\n      role: role.value,\n      accountStatus: status\n    };\n    await Requests.Admin.Update(id, formData, header);\n    setUpdate(false);\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      page: \"dashboard / admin edit\",\n      message: `Edit ${data.name}.`,\n      container: \"container-fluid\",\n      button: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard/admin\",\n          children: /*#__PURE__*/_jsxDEV(GrayButton, {\n            type: \"button\",\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 15,\n              style: {\n                marginRight: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 13\n              },\n              children: \"BACK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.name && errors.name.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.name && errors.name.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control shadow-none\",\n                  placeholder: \"Enter name\",\n                  defaultValue: data.name ? data.name : null,\n                  ...register(\"name\", {\n                    required: \"Name is required\",\n                    minLength: {\n                      value: 5,\n                      message: \"Minimun length 5 character\"\n                    }\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"E-mail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control shadow-none\",\n                  placeholder: \"Enter e-mail\",\n                  defaultValue: data.email ? data.email : null,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control shadow-none\",\n                  placeholder: \"Enter phone number\",\n                  defaultValue: data.phone ? data.phone : null,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.presentAddress && errors.presentAddress.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.presentAddress && errors.presentAddress.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Present Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control shadow-none\",\n                  placeholder: \"Enter address\",\n                  defaultValue: data.address && data.address.presentAddress ? data.address.presentAddress : null,\n                  ...register(\"presentAddress\", {\n                    required: \"Present address is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.permanentAddress && errors.permanentAddress.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.permanentAddress && errors.permanentAddress.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Permanent Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control shadow-none\",\n                  placeholder: \"Enter address\",\n                  defaultValue: data.address && data.address.permanentAddress ? data.address.permanentAddress : null,\n                  ...register(\"permanentAddress\", {\n                    required: \"Permanent address is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [role.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: role.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 51\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 97\n                }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                  placeholder: \"role\",\n                  error: role.error,\n                  options: role.options,\n                  deafult: data.role ? {\n                    label: data.role.role,\n                    value: data.role.role\n                  } : null,\n                  value: event => setRole({ ...role,\n                    value: event.value,\n                    error: null\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group mb-4 pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"isActive\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                    type: \"checkbox\",\n                    value: \"Active\",\n                    label: \"Active\",\n                    checked: status === 'Active',\n                    onChange: handleCheckBox\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"ms-3\",\n                  controlId: \"isDeactive\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                    type: \"checkbox\",\n                    value: \"Deactive\",\n                    label: \"Deactive\",\n                    checked: status === 'Deactive',\n                    onChange: handleCheckBox\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 text-end\",\n              children: /*#__PURE__*/_jsxDEV(PrimaryButton, {\n                type: \"submit\",\n                className: \"px-4\",\n                disabled: isUpdate,\n                children: isUpdate ? \"Updating ...\" : \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Edit, \"Sw0x3H8wcX9L7C8hLZnBNAY57Kw=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["/media/mamun/Tools/iocommerce/admin/src/pages/admin/Edit.js"],"names":["React","useCallback","useEffect","useState","Link","useParams","Form","useForm","ChevronLeft","GrayButton","PrimaryButton","Layout","Main","SingleSelect","Loader","Requests","Edit","id","register","handleSubmit","formState","errors","loading","setLoading","isUpdate","setUpdate","data","setData","role","setRole","options","value","error","status","setStatus","header","headers","Authorization","localStorage","getItem","fetchData","paths","roles","Acl","Role","response","Admin","Show","length","i","element","push","label","_id","accountStatus","exRoles","handleCheckBox","event","target","onSubmit","formData","Update","name","marginRight","fontSize","message","required","minLength","email","phone","presentAddress","address","permanentAddress"],"mappings":"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","sourcesContent":["\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { Form } from 'react-bootstrap'\nimport { useForm } from 'react-hook-form'\nimport { ChevronLeft } from 'react-feather'\nimport {\n    GrayButton,\n    PrimaryButton\n} from '../../components/button/Index'\nimport { Layout, Main } from '../../components/layout/Index'\nimport { SingleSelect } from '../../components/select/Index'\nimport { Loader } from '../../components/loader/Index'\nimport Requests from '../../utils/Requests/Index'\n\nconst Edit = () => {\n    const { id } = useParams()\n    const { register, handleSubmit, formState: { errors } } = useForm()\n    const [loading, setLoading] = useState(true)\n    const [isUpdate, setUpdate] = useState(false)\n    const [data, setData] = useState({})\n    const [role, setRole] = useState({ options: [], value: null, error: null })\n    const [status, setStatus] = useState(null)\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    const fetchData = useCallback(async () => {\n        let paths = []\n        const roles = await Requests.Acl.Role(header)\n        const response = await Requests.Admin.Show(id, header)\n\n        if (roles.data && roles.data.length) {\n            for (let i = 0; i < roles.data.length; i++) {\n                const element = roles.data[i]\n                paths.push({\n                    label: element.role,\n                    value: element._id\n                })\n            }\n        }\n\n        setData(response.data)\n        setStatus(response.data.accountStatus)\n        setRole(exRoles => ({ ...exRoles, options: paths, value: response.data.role._id }))\n\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [id, header, fetchData])\n\n    // Handle checkbox\n    const handleCheckBox = event => setStatus(event.target.value)\n\n    // Submit Form\n    const onSubmit = async (data) => {\n        if (!role.value) return setRole({ ...role, error: \"Role is required.\" })\n\n        setUpdate(true)\n        const formData = {\n            ...data,\n            role: role.value,\n            accountStatus: status\n        }\n\n        await Requests.Admin.Update(id, formData, header)\n        setUpdate(false)\n    }\n\n    if (loading) return <Loader />\n\n    return (\n        <div>\n            <Layout\n                page=\"dashboard / admin edit\"\n                message={`Edit ${data.name}.`}\n                container=\"container-fluid\"\n                button={\n                    <div>\n                        <Link to=\"/dashboard/admin\">\n                            <GrayButton type=\"button\">\n                                <ChevronLeft size={15} style={{ marginRight: 5 }} />\n                                <span style={{ fontSize: 13 }}>BACK</span>\n                            </GrayButton>\n                        </Link>\n                    </div>\n                }\n            />\n\n            <Main>\n                <div className=\"col-12\">\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"row\">\n\n                            {/* Name */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.name && errors.name.message ?\n                                        <p className=\"text-danger\">{errors.name && errors.name.message}</p>\n                                        : <p>Name</p>}\n\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control shadow-none\"\n                                        placeholder=\"Enter name\"\n                                        defaultValue={data.name ? data.name : null}\n                                        {...register(\"name\", {\n                                            required: \"Name is required\",\n                                            minLength: {\n                                                value: 5,\n                                                message: \"Minimun length 5 character\"\n                                            }\n                                        })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* E-mail */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    <p>E-mail</p>\n\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control shadow-none\"\n                                        placeholder=\"Enter e-mail\"\n                                        defaultValue={data.email ? data.email : null}\n                                        readOnly\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Phone */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    <p>Phone</p>\n\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control shadow-none\"\n                                        placeholder=\"Enter phone number\"\n                                        defaultValue={data.phone ? data.phone : null}\n                                        readOnly\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Present Address */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.presentAddress && errors.presentAddress.message ?\n                                        <p className=\"text-danger\">{errors.presentAddress && errors.presentAddress.message}</p>\n                                        : <p>Present Address</p>}\n\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control shadow-none\"\n                                        placeholder=\"Enter address\"\n                                        defaultValue={data.address && data.address.presentAddress ? data.address.presentAddress : null}\n                                        {...register(\"presentAddress\", { required: \"Present address is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Permanent Address */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.permanentAddress && errors.permanentAddress.message ?\n                                        <p className=\"text-danger\">{errors.permanentAddress && errors.permanentAddress.message}</p>\n                                        : <p>Permanent Address</p>}\n\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control shadow-none\"\n                                        placeholder=\"Enter address\"\n                                        defaultValue={data.address && data.address.permanentAddress ? data.address.permanentAddress : null}\n                                        {...register(\"permanentAddress\", { required: \"Permanent address is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Role */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    {role.error ? <p className=\"text-danger\">{role.error}</p> : <p>Role</p>}\n\n                                    <SingleSelect\n                                        placeholder=\"role\"\n                                        error={role.error}\n                                        options={role.options}\n                                        deafult={data.role ? { label: data.role.role, value: data.role.role } : null}\n                                        value={event => setRole({ ...role, value: event.value, error: null })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Active Status */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"input-group mb-4 pt-4\">\n                                    <Form.Group controlId=\"isActive\">\n                                        <Form.Check\n                                            type=\"checkbox\"\n                                            value=\"Active\"\n                                            label=\"Active\"\n                                            checked={status === 'Active'}\n                                            onChange={handleCheckBox}\n                                        />\n                                    </Form.Group>\n\n                                    <Form.Group className=\"ms-3\" controlId=\"isDeactive\">\n                                        <Form.Check\n                                            type=\"checkbox\"\n                                            value=\"Deactive\"\n                                            label=\"Deactive\"\n                                            checked={status === 'Deactive'}\n                                            onChange={handleCheckBox}\n                                        />\n                                    </Form.Group>\n                                </div>\n                            </div>\n\n                            <div className=\"col-12 text-end\">\n                                <PrimaryButton\n                                    type=\"submit\"\n                                    className=\"px-4\"\n                                    disabled={isUpdate}\n                                >{isUpdate ? \"Updating ...\" : \"Update\"}</PrimaryButton>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </Main>\n        </div>\n    );\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}