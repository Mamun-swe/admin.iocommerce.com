{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/GrapFood/admin/src/pages/product/Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport _ from 'lodash';\nimport { Link, useParams } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { ChevronLeft, X } from 'react-feather';\nimport JoditEditor from 'jodit-react';\nimport { GrayButton, PrimaryButton } from '../../components/button/Index';\nimport { SingleSelect, Creatable } from '../../components/select/Index';\nimport { Loader } from '../../components/loader/Index';\nimport { Layout, Main } from '../../components/layout/Index';\nimport { FileUploader } from '../../components/fileUploader/Single';\nimport DeleteModal from '../../components/modals/delete/Index';\nimport Requests from '../../utils/Requests/Index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Edit = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const editor = useRef(null);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [loading, setLoading] = useState(true);\n  const [update, setUpdate] = useState(false);\n  const [data, setData] = useState(null);\n  const [vendor, setVendor] = useState({\n    options: [],\n    value: null,\n    error: null\n  });\n  const [brand, setBrand] = useState({\n    options: [],\n    value: null\n  });\n  const [category, setCategory] = useState({\n    options: [],\n    value: null,\n    error: null\n  });\n  const [tags, setTags] = useState({\n    value: [],\n    error: null\n  });\n  const [additional, setAdditional] = useState(null);\n  const [content, setContent] = useState('');\n  const [image, setImage] = useState({\n    preview: null,\n    loading: false\n  });\n  const [images, setImages] = useState({\n    previews: [],\n    loading: false,\n    error: null\n  });\n  const [isDelete, setDelete] = useState({\n    value: null,\n    show: false,\n    loading: false\n  });\n  const [header] = useState({\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem('token')\n    }\n  }); // Text editor config\n\n  const config = {\n    readonly: false,\n    minHeight: 350,\n    uploader: {\n      \"insertImageAsBase64URI\": true\n    }\n  }; // Fetch data\n\n  const fetchData = useCallback(async () => {\n    const response = await Requests.Product.Show(id, header);\n    const optionsRes = await Requests.Options.Index(header);\n\n    if (response && optionsRes) {\n      setData(response.data);\n      setImage(exImage => ({ ...exImage,\n        preview: response.data.images.small\n      }));\n      setImages(exImages => ({ ...exImages,\n        previews: response.data.images.additional\n      }));\n      setCategory(exCategory => ({ ...exCategory,\n        options: optionsRes.categories,\n        value: response.data.category._id || null\n      }));\n      setVendor(exVendor => ({ ...exVendor,\n        options: optionsRes.vendors,\n        value: response.data.vendor._id || null\n      }));\n      setBrand(exBrand => ({ ...exBrand,\n        options: optionsRes.brands,\n        value: response.data.brand && response.data.brand._id ? response.data.brand._id : null\n      }));\n      setTags(exTags => ({ ...exTags,\n        value: response.data.tags || null\n      }));\n      setContent(response.data.description);\n    }\n\n    setLoading(false);\n  }, [id, header]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]); // Handle form submission\n\n  const onSubmit = async data => {\n    if (!vendor.value) return setVendor({ ...vendor,\n      error: \"Vendor is required.\"\n    });\n    if (!category.value) return setCategory({ ...category,\n      error: \"Category is required.\"\n    });\n    if (!tags.value.length) return setTags({ ...tags,\n      error: \"Tags is required.\"\n    });\n    const formData = { ...data,\n      vendor: vendor.value,\n      brand: brand.value,\n      category: category.value,\n      tags: tags.value,\n      additionalInfo: additional,\n      description: content\n    };\n    setUpdate(true);\n    await Requests.Product.Update(id, formData, header);\n    setUpdate(false);\n  }; // Handle Small Image\n\n\n  const smImageHandeller = async event => {\n    let file = event.image;\n\n    if (file) {\n      setImage({\n        preview: URL.createObjectURL(file),\n        loading: true\n      });\n      let formData = new FormData();\n      formData.append('image', file);\n      await Requests.Product.UpdateSMImage(id, formData, header);\n      setImage({\n        preview: URL.createObjectURL(file),\n        loading: false\n      });\n    }\n  }; // Handle to add additional images\n\n\n  const fileAdditionHandeller = async event => {\n    const file = event.image;\n    const fileURl = URL.createObjectURL(file);\n\n    if (file) {\n      setImages(exImages => ({ ...exImages,\n        previews: [...exImages.previews, fileURl],\n        loading: true\n      }));\n      let formData = new FormData();\n      formData.append('image', file);\n      await Requests.Product.AddAdditional(id, formData, header);\n      setImages(exImages => ({ ...exImages,\n        loading: false\n      }));\n    }\n  }; // Handle delete\n\n\n  const handleDeleteImage = async () => {\n    setDelete({ ...isDelete,\n      loading: true\n    });\n    const item = isDelete.value.split(\"/\");\n\n    const file = _.last(item);\n\n    await Requests.Product.RemoveAdditional(id, file, header);\n    const unRemovedFiles = images.previews.filter(x => x !== isDelete.value);\n    setImages(exImages => ({ ...exImages,\n      previews: unRemovedFiles\n    }));\n    setDelete({ ...isDelete,\n      show: false,\n      loading: false\n    });\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      page: \"dashboard / product edit\",\n      message: `Edit ${data.name}`,\n      container: \"container-fluid\",\n      button: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard/product\",\n          children: /*#__PURE__*/_jsxDEV(GrayButton, {\n            type: \"button\",\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              size: 15,\n              style: {\n                marginRight: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 13\n              },\n              children: \"BACK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [errors.name && errors.name.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: errors.name && errors.name.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Product name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter product name\",\n              defaultValue: data.name || null,\n              className: errors.name ? \"form-control shadow-none error\" : \"form-control shadow-none\",\n              ...register(\"name\", {\n                required: \"Product name is required\"\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [vendor.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: vendor.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Vendor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                  placeholder: \"vendor\",\n                  error: vendor.error,\n                  options: vendor.options,\n                  deafult: data.vendor ? {\n                    label: data.vendor.name,\n                    value: data.vendor._id\n                  } : null,\n                  value: event => setVendor({ ...vendor,\n                    value: event.value,\n                    error: null\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                  placeholder: \"brand\",\n                  options: brand.options,\n                  deafult: data.brand ? {\n                    label: data.brand.name,\n                    value: data.brand._id\n                  } : null,\n                  value: event => setBrand({ ...brand,\n                    value: event.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [category.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: category.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(SingleSelect, {\n                  placeholder: \"category\",\n                  error: category.error,\n                  options: category.options,\n                  deafult: data.category ? {\n                    label: data.category.name,\n                    value: data.category._id\n                  } : null,\n                  value: event => setCategory({ ...category,\n                    value: event.value,\n                    error: null\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-8\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [tags.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: tags.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Tags\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(Creatable, {\n                  placeholder: \"Enter tags\",\n                  error: tags.error,\n                  deafult: data.tags ? data.tags.map(item => ({\n                    value: item,\n                    label: item\n                  })) : null,\n                  value: event => setTags({\n                    value: event,\n                    error: null\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6 col-xl-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.sku && errors.sku.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.sku && errors.sku.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Product SKU\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Enter product SKU\",\n                  defaultValue: data.sku || null,\n                  className: errors.sku ? \"form-control shadow-none error\" : \"form-control shadow-none\",\n                  ...register(\"sku\", {\n                    required: \"Product SKU is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6 col-xl-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.stockAmount && errors.stockAmount.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.stockAmount && errors.stockAmount.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Stock amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  placeholder: \"Enter stock amount\",\n                  defaultValue: data.stockAmount || null,\n                  className: errors.stockAmount ? \"form-control shadow-none error\" : \"form-control shadow-none\",\n                  ...register(\"stockAmount\", {\n                    required: \"Stock amount is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6 col-xl-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.purchasePrice && errors.purchasePrice.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.purchasePrice && errors.purchasePrice.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Purchase price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  placeholder: \"Enter stock amount\",\n                  defaultValue: data.stockAmount || null,\n                  className: errors.purchasePrice ? \"form-control shadow-none error\" : \"form-control shadow-none\",\n                  ...register(\"purchasePrice\", {\n                    required: \"Purchase price is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-6 col-xl-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-4\",\n                children: [errors.salePrice && errors.salePrice.message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errors.salePrice && errors.salePrice.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Sale price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  placeholder: \"Enter stock amount\",\n                  defaultValue: data.salePrice || null,\n                  className: errors.salePrice ? \"form-control shadow-none error\" : \"form-control shadow-none\",\n                  ...register(\"salePrice\", {\n                    required: \"Sale price is required\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(AdditionalInfo, {\n            default: data.additionalInfo && data.additionalInfo.length ? data.additionalInfo : null,\n            data: value => setAdditional(value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(JoditEditor, {\n              ref: editor,\n              value: data.description || content,\n              config: config,\n              tabIndex: 8,\n              onBlur: newContent => setContent(newContent)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Youtube embed link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter youtube embed link\",\n              className: \"form-control shadow-none\",\n              defaultValue: data.video || null,\n              ...register(\"video\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end mt-3\",\n            children: /*#__PURE__*/_jsxDEV(PrimaryButton, {\n              type: \"submit\",\n              disabled: update,\n              className: \"px-4\",\n              children: update ? \"Updating ...\" : \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FileUploader, {\n          width: 100,\n          height: 100,\n          limit: 100,\n          loading: image.loading,\n          title: \"Product image\",\n          error: image.error,\n          default: image.preview,\n          dataHandeller: smImageHandeller\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1 ms-1\",\n          children: \"Additional Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-wrap\",\n          children: [images.previews && images.previews.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border m-1\",\n            style: {\n              width: 100,\n              height: 100,\n              overflow: \"hidden\",\n              position: \"relative\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item,\n              style: {\n                width: \"100%\",\n                height: \"100%\"\n              },\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(GrayButton, {\n              style: {\n                position: \"absolute\",\n                top: 0,\n                right: 0,\n                borderRadius: \"50%\",\n                padding: \"5px 8px\"\n              },\n              onClick: () => setDelete({\n                value: item,\n                show: true\n              }),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 15,\n                color: \"red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 33\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-1\",\n            style: {\n              width: 100,\n              height: 100\n            },\n            children: /*#__PURE__*/_jsxDEV(FileUploader, {\n              width: 100,\n              height: 100,\n              limit: 100,\n              error: images.error,\n              loading: images.loading,\n              dataHandeller: fileAdditionHandeller\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DeleteModal, {\n      show: isDelete.show,\n      loading: isDelete.loading,\n      message: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Want to delete this image ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: isDelete.value ? isDelete.value : null,\n          className: \"img-fluid\",\n          height: 150,\n          alt: \"Banner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 21\n      }, this),\n      onHide: () => setDelete({\n        value: null,\n        show: false,\n        loading: false\n      }),\n      doDelete: handleDeleteImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Edit, \"y0zxX/3grMDcQej56xMoU/EwzzI=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["/media/mamun/Tools/GrapFood/admin/src/pages/product/Edit.js"],"names":["React","useState","useRef","useEffect","useCallback","_","Link","useParams","useForm","ChevronLeft","X","JoditEditor","GrayButton","PrimaryButton","SingleSelect","Creatable","Loader","Layout","Main","FileUploader","DeleteModal","Requests","Edit","id","editor","register","handleSubmit","formState","errors","loading","setLoading","update","setUpdate","data","setData","vendor","setVendor","options","value","error","brand","setBrand","category","setCategory","tags","setTags","additional","setAdditional","content","setContent","image","setImage","preview","images","setImages","previews","isDelete","setDelete","show","header","headers","Authorization","localStorage","getItem","config","readonly","minHeight","uploader","fetchData","response","Product","Show","optionsRes","Options","Index","exImage","small","exImages","exCategory","categories","_id","exVendor","vendors","exBrand","brands","exTags","description","onSubmit","length","formData","additionalInfo","Update","smImageHandeller","event","file","URL","createObjectURL","FormData","append","UpdateSMImage","fileAdditionHandeller","fileURl","AddAdditional","handleDeleteImage","item","split","last","RemoveAdditional","unRemovedFiles","filter","x","name","marginRight","fontSize","message","required","label","map","sku","stockAmount","purchasePrice","salePrice","newContent","video","i","width","height","overflow","position","top","right","borderRadius","padding"],"mappings":"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","sourcesContent":["\nimport React, { useState, useRef, useEffect, useCallback } from 'react'\nimport _ from 'lodash'\nimport { Link, useParams } from 'react-router-dom'\nimport { useForm } from 'react-hook-form'\nimport { ChevronLeft, X } from 'react-feather'\nimport JoditEditor from 'jodit-react'\nimport {\n    GrayButton,\n    PrimaryButton\n} from '../../components/button/Index'\nimport {\n    SingleSelect,\n    Creatable\n} from '../../components/select/Index'\nimport { Loader } from '../../components/loader/Index'\nimport { Layout, Main } from '../../components/layout/Index'\nimport { FileUploader } from '../../components/fileUploader/Single'\nimport DeleteModal from '../../components/modals/delete/Index'\nimport Requests from '../../utils/Requests/Index'\n\n\nconst Edit = () => {\n    const { id } = useParams()\n    const editor = useRef(null)\n    const { register, handleSubmit, formState: { errors } } = useForm()\n    const [loading, setLoading] = useState(true)\n    const [update, setUpdate] = useState(false)\n\n    const [data, setData] = useState(null)\n    const [vendor, setVendor] = useState({ options: [], value: null, error: null })\n    const [brand, setBrand] = useState({ options: [], value: null })\n    const [category, setCategory] = useState({ options: [], value: null, error: null })\n    const [tags, setTags] = useState({ value: [], error: null })\n\n    const [additional, setAdditional] = useState(null)\n    const [content, setContent] = useState('')\n    const [image, setImage] = useState({ preview: null, loading: false })\n    const [images, setImages] = useState({ previews: [], loading: false, error: null })\n    const [isDelete, setDelete] = useState({ value: null, show: false, loading: false })\n    const [header] = useState({\n        headers: { Authorization: \"Bearer \" + localStorage.getItem('token') }\n    })\n\n    // Text editor config\n    const config = {\n        readonly: false,\n        minHeight: 350,\n        uploader: {\n            \"insertImageAsBase64URI\": true\n        }\n    }\n\n    // Fetch data\n    const fetchData = useCallback(async () => {\n        const response = await Requests.Product.Show(id, header)\n        const optionsRes = await Requests.Options.Index(header)\n        if (response && optionsRes) {\n            setData(response.data)\n            setImage(exImage => ({ ...exImage, preview: response.data.images.small }))\n            setImages(exImages => ({ ...exImages, previews: response.data.images.additional }))\n\n            setCategory(exCategory => ({ ...exCategory, options: optionsRes.categories, value: response.data.category._id || null }))\n            setVendor(exVendor => ({ ...exVendor, options: optionsRes.vendors, value: response.data.vendor._id || null }))\n            setBrand(exBrand => ({ ...exBrand, options: optionsRes.brands, value: response.data.brand && response.data.brand._id ? response.data.brand._id : null }))\n            setTags(exTags => ({ ...exTags, value: response.data.tags || null }))\n\n\n            setContent(response.data.description)\n        }\n        setLoading(false)\n    }, [id, header])\n\n    useEffect(() => {\n        fetchData()\n    }, [fetchData])\n\n    // Handle form submission\n    const onSubmit = async data => {\n\n        if (!vendor.value) return setVendor({ ...vendor, error: \"Vendor is required.\" })\n        if (!category.value) return setCategory({ ...category, error: \"Category is required.\" })\n        if (!tags.value.length) return setTags({ ...tags, error: \"Tags is required.\" })\n\n        const formData = {\n            ...data,\n            vendor: vendor.value,\n            brand: brand.value,\n            category: category.value,\n            tags: tags.value,\n            additionalInfo: additional,\n            description: content\n        }\n\n        setUpdate(true)\n        await Requests.Product.Update(id, formData, header)\n        setUpdate(false)\n    }\n\n    // Handle Small Image\n    const smImageHandeller = async (event) => {\n        let file = event.image\n        if (file) {\n            setImage({ preview: URL.createObjectURL(file), loading: true })\n\n            let formData = new FormData()\n            formData.append('image', file)\n\n            await Requests.Product.UpdateSMImage(id, formData, header)\n            setImage({ preview: URL.createObjectURL(file), loading: false })\n        }\n    }\n\n    // Handle to add additional images\n    const fileAdditionHandeller = async (event) => {\n        const file = event.image\n        const fileURl = URL.createObjectURL(file)\n        if (file) {\n\n            setImages(exImages => ({\n                ...exImages,\n                previews: [...exImages.previews, fileURl],\n                loading: true\n            }))\n\n            let formData = new FormData()\n            formData.append('image', file)\n\n            await Requests.Product.AddAdditional(id, formData, header)\n            setImages(exImages => ({ ...exImages, loading: false }))\n        }\n    }\n\n    // Handle delete\n    const handleDeleteImage = async () => {\n        setDelete({ ...isDelete, loading: true })\n\n        const item = isDelete.value.split(\"/\")\n        const file = _.last(item)\n\n        await Requests.Product.RemoveAdditional(id, file, header)\n        const unRemovedFiles = images.previews.filter(x => x !== isDelete.value)\n\n        setImages(exImages => ({ ...exImages, previews: unRemovedFiles }))\n        setDelete({ ...isDelete, show: false, loading: false })\n    }\n\n\n    if (loading) return <Loader />\n\n    return (\n        <div>\n            <Layout\n                page=\"dashboard / product edit\"\n                message={`Edit ${data.name}`}\n                container=\"container-fluid\"\n                button={\n                    <div>\n                        <Link to=\"/dashboard/product\">\n                            <GrayButton type=\"button\">\n                                <ChevronLeft size={15} style={{ marginRight: 5 }} />\n                                <span style={{ fontSize: 13 }}>BACK</span>\n                            </GrayButton>\n                        </Link>\n                    </div>\n                }\n            />\n\n            <Main>\n                <div className=\"col-12\">\n                    <form onSubmit={handleSubmit(onSubmit)}>\n\n                        {/* Name */}\n                        <div className=\"form-group mb-4\">\n                            {errors.name && errors.name.message ?\n                                <p className=\"text-danger\">{errors.name && errors.name.message}</p>\n                                : <p>Product name</p>}\n\n                            <input\n                                type=\"text\"\n                                placeholder=\"Enter product name\"\n                                defaultValue={data.name || null}\n                                className={errors.name ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                {...register(\"name\", { required: \"Product name is required\" })}\n                            />\n                        </div>\n\n                        <div className=\"row\">\n\n                            {/* Vendor */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    {vendor.error ?\n                                        <p className=\"text-danger\">{vendor.error}</p>\n                                        : <p>Vendor</p>}\n\n                                    <SingleSelect\n                                        placeholder=\"vendor\"\n                                        error={vendor.error}\n                                        options={vendor.options}\n                                        deafult={data.vendor ? { label: data.vendor.name, value: data.vendor._id } : null}\n                                        value={event => setVendor({ ...vendor, value: event.value, error: null })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Brand */}\n                            <div className=\"col-12 col-lg-6\">\n                                <div className=\"form-group mb-4\">\n                                    <p>Brand</p>\n\n                                    <SingleSelect\n                                        placeholder=\"brand\"\n                                        options={brand.options}\n                                        deafult={data.brand ? { label: data.brand.name, value: data.brand._id } : null}\n                                        value={event => setBrand({ ...brand, value: event.value })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Category */}\n                            <div className=\"col-12 col-lg-4\">\n                                <div className=\"form-group mb-4\">\n                                    {category.error ?\n                                        <p className=\"text-danger\">{category.error}</p>\n                                        : <p>Category</p>}\n\n                                    <SingleSelect\n                                        placeholder=\"category\"\n                                        error={category.error}\n                                        options={category.options}\n                                        deafult={data.category ? { label: data.category.name, value: data.category._id } : null}\n                                        value={event => setCategory({ ...category, value: event.value, error: null })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Tags */}\n                            <div className=\"col-12 col-lg-8\">\n                                <div className=\"form-group mb-4\">\n                                    {tags.error ?\n                                        <p className=\"text-danger\">{tags.error}</p>\n                                        : <p>Tags</p>}\n\n                                    <Creatable\n                                        placeholder=\"Enter tags\"\n                                        error={tags.error}\n                                        deafult={data.tags ? data.tags.map(item => ({ value: item, label: item })) : null}\n                                        value={event => setTags({ value: event, error: null })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* SKU */}\n                            <div className=\"col-12 col-lg-6 col-xl-3\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.sku && errors.sku.message ?\n                                        <p className=\"text-danger\">{errors.sku && errors.sku.message}</p>\n                                        : <p>Product SKU</p>}\n\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Enter product SKU\"\n                                        defaultValue={data.sku || null}\n                                        className={errors.sku ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                        {...register(\"sku\", { required: \"Product SKU is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Stock amount */}\n                            <div className=\"col-12 col-lg-6 col-xl-3\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.stockAmount && errors.stockAmount.message ?\n                                        <p className=\"text-danger\">{errors.stockAmount && errors.stockAmount.message}</p>\n                                        : <p>Stock amount</p>}\n\n                                    <input\n                                        type=\"number\"\n                                        placeholder=\"Enter stock amount\"\n                                        defaultValue={data.stockAmount || null}\n                                        className={errors.stockAmount ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                        {...register(\"stockAmount\", { required: \"Stock amount is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Purchase price */}\n                            <div className=\"col-12 col-lg-6 col-xl-3\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.purchasePrice && errors.purchasePrice.message ?\n                                        <p className=\"text-danger\">{errors.purchasePrice && errors.purchasePrice.message}</p>\n                                        : <p>Purchase price</p>}\n\n                                    <input\n                                        type=\"number\"\n                                        placeholder=\"Enter stock amount\"\n                                        defaultValue={data.stockAmount || null}\n                                        className={errors.purchasePrice ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                        {...register(\"purchasePrice\", { required: \"Purchase price is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                            {/* Sale price */}\n                            <div className=\"col-12 col-lg-6 col-xl-3\">\n                                <div className=\"form-group mb-4\">\n                                    {errors.salePrice && errors.salePrice.message ?\n                                        <p className=\"text-danger\">{errors.salePrice && errors.salePrice.message}</p>\n                                        : <p>Sale price</p>}\n\n                                    <input\n                                        type=\"number\"\n                                        placeholder=\"Enter stock amount\"\n                                        defaultValue={data.salePrice || null}\n                                        className={errors.salePrice ? \"form-control shadow-none error\" : \"form-control shadow-none\"}\n                                        {...register(\"salePrice\", { required: \"Sale price is required\" })}\n                                    />\n                                </div>\n                            </div>\n\n                        </div>\n\n                        {/* Additional information */}\n                        <AdditionalInfo\n                            default={data.additionalInfo && data.additionalInfo.length ? data.additionalInfo : null}\n                            data={value => setAdditional(value)}\n                        />\n\n                        {/* Description */}\n                        <div className=\"form-group mb-4\">\n                            <p>Description</p>\n\n                            <JoditEditor\n                                ref={editor}\n                                value={data.description || content}\n                                config={config}\n                                tabIndex={8}\n                                onBlur={newContent => setContent(newContent)}\n                            />\n                        </div>\n\n                        {/* Youtube embed link */}\n                        <div className=\"form-group mb-4\">\n                            <p>Youtube embed link</p>\n\n                            <input\n                                type=\"text\"\n                                placeholder=\"Enter youtube embed link\"\n                                className=\"form-control shadow-none\"\n                                defaultValue={data.video || null}\n                                {...register(\"video\")}\n                            />\n                        </div>\n\n                        <div className=\"text-end mt-3\">\n                            <PrimaryButton\n                                type=\"submit\"\n                                disabled={update}\n                                className=\"px-4\"\n                            >\n                                {update ? \"Updating ...\" : \"Update\"}\n                            </PrimaryButton>\n                        </div>\n                    </form>\n\n                    {/* Single File uploader */}\n                    <FileUploader\n                        width={100}\n                        height={100}\n                        limit={100}\n                        loading={image.loading}\n                        title=\"Product image\"\n                        error={image.error}\n                        default={image.preview}\n                        dataHandeller={smImageHandeller}\n                    />\n\n                    {/* Additional images */}\n                    <p className=\"mb-1 ms-1\">Additional Images</p>\n                    <div className=\"d-flex flex-wrap\">\n\n                        {images.previews && images.previews.map((item, i) =>\n                            <div\n                                className=\"border m-1\"\n                                style={{\n                                    width: 100,\n                                    height: 100,\n                                    overflow: \"hidden\",\n                                    position: \"relative\"\n                                }}\n                                key={i}\n                            >\n                                <img\n                                    src={item}\n                                    style={{ width: \"100%\", height: \"100%\" }}\n                                    alt=\"...\"\n                                />\n\n                                {/* Remove button */}\n                                <GrayButton\n                                    style={{\n                                        position: \"absolute\",\n                                        top: 0,\n                                        right: 0,\n                                        borderRadius: \"50%\",\n                                        padding: \"5px 8px\"\n                                    }}\n                                    onClick={() => setDelete({ value: item, show: true })}\n                                >\n                                    <X size={15} color=\"red\" />\n                                </GrayButton>\n                            </div>\n                        )}\n\n                        {/* New file addition */}\n                        <div className=\"m-1\" style={{ width: 100, height: 100 }}>\n                            <FileUploader\n                                width={100}\n                                height={100}\n                                limit={100}\n                                error={images.error}\n                                loading={images.loading}\n                                dataHandeller={fileAdditionHandeller}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </Main>\n\n            {/* Delete confirmation modal */}\n            <DeleteModal\n                show={isDelete.show}\n                loading={isDelete.loading}\n                message={\n                    <div>\n                        <h6>Want to delete this image ?</h6>\n                        <img src={isDelete.value ? isDelete.value : null} className=\"img-fluid\" height={150} alt=\"Banner\" />\n                    </div>\n                }\n                onHide={() => setDelete({ value: null, show: false, loading: false })}\n                doDelete={handleDeleteImage}\n            />\n        </div>\n    );\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}